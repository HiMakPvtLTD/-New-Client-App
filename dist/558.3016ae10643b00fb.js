"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[558],{2558:(m,P,l)=>{l.r(P),l.d(P,{default:()=>vt});var u=l(6814),v=l(1043),A=l(8856),f=l(8351),S=l(3182),M=l(7818),j=l(8193),y=l(814),b=l(7844),C=l(8837),p=l(1486),t=l(9468),Z=l(9074),w=l(7911),T=l(3946),x=l(8672),F=l(5026),R=l(589),I=l(7635),U=l(8642),g=l(95),E=l(220);function V(a,r){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Oqu(i.projectDetails[e.property])}}function O(a,r){if(1&a&&(t.TgZ(0,"app-card",48)(1,"label",49),t._UZ(2,"i"),t._uU(3),t.qZA(),t.TgZ(4,"label",50),t.YNc(5,V,2,1,"span",51),t.qZA()()),2&a){const e=t.oxw().$implicit,i=t.oxw(2);t.s9C("cardClass",e.background),t.Q6J("hidHeader",!0),t.xp6(2),t.Gre("feather float-start ",e.icon,""),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",i.projectDetails)}}function q(a,r){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Oqu(i.projectDetails[e.property])}}function k(a,r){if(1&a&&(t.TgZ(0,"app-card",48)(1,"label",49),t._UZ(2,"i"),t._uU(3),t.qZA(),t.TgZ(4,"label",50),t.YNc(5,q,2,1,"span",51),t.qZA()()),2&a){const e=t.oxw().$implicit,i=t.oxw(2);t.s9C("cardClass","Running"===i.projectDetails[e.property]?"bg-c-green":"Stop"===i.projectDetails[e.property]?"bg-c-red":"bg-secondary"),t.Q6J("hidHeader",!0),t.xp6(2),t.Gre("feather float-start ",e.icon,""),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",i.projectDetails)}}function N(a,r){if(1&a&&(t.TgZ(0,"div",46),t.YNc(1,O,6,7,"app-card",47),t.YNc(2,k,6,7,"app-card",47),t.qZA()),2&a){const e=r.last;t.xp6(1),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e)}}const L=function(a){return{"bg-secondary":a}};function J(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"tr",54),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,c=o.index,n=t.oxw(3);return t.KtG(n.handleRowClick(s.TestNo,c))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"number"),t.qZA()()}if(2&a){const e=r.$implicit,i=r.index,o=t.oxw(3);t.Q6J("ngClass",t.VKq(29,L,i===o.selectedRow)),t.xp6(2),t.Oqu(null==e?null:e.TestNo),t.xp6(2),t.Oqu(t.Dn7(5,9,null==e?null:e.StartDateTime,"dd/MM/yyyy HH:mm:ss","UTC")),t.xp6(3),t.Oqu(t.Dn7(8,13,null==e?null:e.EndDateTime,"dd/MM/yyyy HH:mm:ss","UTC")),t.xp6(3),t.Oqu(t.xi3(11,17,null==e?null:e.PumpRPM,"1.2-2")),t.xp6(3),t.Oqu(null==e?null:e.act_testruntime),t.xp6(2),t.Oqu(t.xi3(16,20,null==e?null:e.DischargePressureSP,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(19,23,null==e?null:e.Set_MotorRPM,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(22,26,null==e?null:e.MotorKW,"1.1-1"))}}function Y(a,r){if(1&a&&(t.TgZ(0,"table",52)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Test Run"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Test Start Time"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Test End Time"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Main Motor RPM"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Test Run Time (Min)"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Discharge Pressure (SP)"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Motor HZ"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Motor Power"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,J,23,31,"tr",53),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(20),t.Q6J("ngForOf",e.selectedProjectTestRunsList)}}const B=function(a){return{selectedRowColor:a}};function H(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"tr",54),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,c=o.index,n=t.oxw(3);return t.KtG(n.handleRowClick(s.TestNo,c))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"number"),t.qZA()()}if(2&a){const e=r.$implicit,i=r.index,o=t.oxw(3);t.Q6J("ngClass",t.VKq(21,B,i===o.selectedRow)),t.xp6(2),t.Oqu(null==e?null:e.TestNo),t.xp6(2),t.Oqu(t.Dn7(5,7,null==e?null:e.StartDateTime,"dd/MM/yyyy HH:mm:ss","UTC")),t.xp6(3),t.Oqu(t.Dn7(8,11,null==e?null:e.EndDateTime,"dd/MM/yyyy HH:mm:ss","UTC")),t.xp6(3),t.Oqu(null==e?null:e.endurance),t.xp6(2),t.Oqu(t.xi3(13,15,null==e?null:e.DischargePressureSP,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(16,18,null==e?null:e.InAirPressSP,"1.1-1"))}}function K(a,r){if(1&a&&(t.TgZ(0,"table",52)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Test Run"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Test Start Time"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Test End Time"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Test Run Time (Min)"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Discharge Pressure (SP)"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"In Air Valve output"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,H,17,23,"tr",53),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(16),t.Q6J("ngForOf",e.selectedProjectTestRunsList)}}function z(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openModal("Favourite"))}),t._uU(1,"Mark as Favourite "),t._UZ(2,"i",55),t.qZA()}}function Q(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"a",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deletFav())}),t._uU(1,"Favourite "),t._UZ(2,"i",55),t.qZA()}}function G(a,r){1&a&&(t.TgZ(0,"div",62),t._uU(1," Pump RPM "),t.qZA())}function W(a,r){1&a&&(t.TgZ(0,"div",62),t._uU(1," Inlet Air Pressure "),t.qZA())}function $(a,r){if(1&a&&(t.TgZ(0,"div",63),t._UZ(1,"fusioncharts",64),t.TgZ(2,"div",65)(3,"div",66)(4,"p",67),t._uU(5),t.qZA()()()()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourcePumpRPM),t.xp6(4),t.hij(" Motor Hz SP: ",e.dash.Set_MotorRPM||0," Hz ")}}function X(a,r){if(1&a&&(t.TgZ(0,"div",63),t._UZ(1,"fusioncharts",64)(2,"div",79),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourcePumpRPMAirPressure)}}function tt(a,r){if(1&a&&(t.TgZ(0,"div")(1,"div",80)(2,"div",81),t._UZ(3,"img",82),t.qZA(),t.TgZ(4,"div",83)(5,"div",84)(6,"p",85),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"div",86)(10,"p",76),t._uU(11,"Motor Power"),t.qZA()()()()(),t.TgZ(12,"div",87)(13,"div",83)(14,"div",84)(15,"p",85),t._uU(16),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"div",86)(19,"p",76),t._uU(20,"Motor AMP"),t.qZA()()()()()()),2&a){const e=t.oxw(3);t.xp6(7),t.hij("",t.xi3(8,2,e.dash.MotorKW||0,"1.1-1")," kW"),t.xp6(9),t.hij("",t.xi3(17,5,e.dash.MotorAMP||0,"1.1-1")," AMP")}}function et(a,r){if(1&a&&(t.TgZ(0,"div")(1,"div",63)(2,"div",88)(3,"div",89)(4,"div",84)(5,"div",90)(6,"p",76),t._uU(7,"Inlet Air Flow"),t.qZA()(),t.TgZ(8,"p",85),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.TgZ(11,"div",88)(12,"div",83)(13,"div",84)(14,"div",90)(15,"p",76),t._uU(16,"Stroke Count / Min"),t.qZA()(),t.TgZ(17,"p",85),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",88)(20,"div",83)(21,"div",84)(22,"div",90)(23,"p",76),t._uU(24,"Air Valve Output"),t.qZA()(),t.TgZ(25,"p",85),t._uU(26),t.ALo(27,"number"),t.qZA()()()()()()),2&a){const e=t.oxw(3);t.xp6(9),t.hij("",t.xi3(10,3,e.chartData.AoddInAirSCFMPV||0,"1.1-1")," SCFM"),t.xp6(9),t.hij("",e.chartData.StrokeCountRate||0," "),t.xp6(8),t.hij("",t.xi3(27,6,e.chartData.InAirPressSP||0,"1.1-2"),"% ")}}function at(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Project Kwh"),t.qZA())}function it(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Project Stroke Count"),t.qZA())}function ot(a,r){if(1&a&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.MotorKwhProject||"0","1.1-3"),"")}}function st(a,r){if(1&a&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.aoddProjStrokeCount||"0","1.0-3"),"")}}function rt(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Test Running Time"),t.qZA())}function nt(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Last Run Time"),t.qZA())}function ct(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Project Kwh"),t.qZA())}function lt(a,r){1&a&&(t.TgZ(0,"h6",76),t._uU(1,"Test Stroke Count"),t.qZA())}function dt(a,r){if(1&a&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,1,e.dash.MotorKwhTest||"0","1.1-3"))}}function ht(a,r){if(1&a&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,1,e.dash.StrokeCount||"0","1.0-3"))}}const pt=function(a){return{color:a}};function ut(a,r){if(1&a&&(t.TgZ(0,"div",57)(1,"div",58)(2,"div",59),t.YNc(3,G,2,0,"div",60),t.YNc(4,W,2,0,"div",60),t.YNc(5,$,6,6,"div",61),t.YNc(6,X,3,5,"div",61),t.qZA(),t.TgZ(7,"div",59)(8,"div",62),t._uU(9," Discharge Pressure "),t.qZA(),t.TgZ(10,"div",63),t._UZ(11,"fusioncharts",64),t.TgZ(12,"div",65)(13,"div",66)(14,"p",67),t._uU(15),t.ALo(16,"number"),t.qZA()()()()(),t.TgZ(17,"div",59)(18,"div",62),t._uU(19," Discharge Flow "),t.qZA(),t.TgZ(20,"div",63),t._UZ(21,"fusioncharts",64),t.qZA()(),t.TgZ(22,"div",59),t.YNc(23,tt,21,8,"div",51),t.YNc(24,et,28,9,"div",51),t.qZA(),t.TgZ(25,"div",68)(26,"div",25)(27,"div",69),t._uU(28),t.ALo(29,"date"),t.qZA()(),t.TgZ(30,"div",70)(31,"div",71)(32,"div",72)(33,"div",73)(34,"h6",74),t._uU(35,"Project RunTime"),t.qZA()(),t.TgZ(36,"h5",75),t._uU(37),t.qZA()()(),t.TgZ(38,"div",71)(39,"div",72)(40,"div",73)(41,"h6",76),t._uU(42,"Project Production"),t.qZA()(),t.TgZ(43,"h5",75),t._uU(44),t.ALo(45,"number"),t.qZA()()(),t.TgZ(46,"div",71)(47,"div",72)(48,"div",73),t.YNc(49,at,2,0,"h6",77),t.YNc(50,it,2,0,"h6",77),t.qZA(),t.YNc(51,ot,3,4,"h5",78),t.YNc(52,st,3,4,"h5",78),t.qZA()(),t.TgZ(53,"div",71)(54,"div",72)(55,"div",73),t.YNc(56,rt,2,0,"h6",77),t.YNc(57,nt,2,0,"h6",77),t.qZA(),t.TgZ(58,"h5",75),t._uU(59),t.qZA()()(),t.TgZ(60,"div",71)(61,"div",72)(62,"div",73)(63,"h6",76),t._uU(64,"Test Production"),t.qZA()(),t.TgZ(65,"h5",75),t._uU(66),t.ALo(67,"number"),t.qZA()()(),t.TgZ(68,"div",71)(69,"div",72)(70,"div",73),t.YNc(71,ct,2,0,"h6",77),t.YNc(72,lt,2,0,"h6",77),t.qZA(),t.YNc(73,dt,3,4,"h5",78),t.YNc(74,ht,3,4,"h5",78),t.qZA()()()()()()),2&a){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(5),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourceDischargePressure),t.xp6(4),t.hij(" SP: ",t.xi3(16,33,e.dash.DischargePressureSP||0,"1.1-2")," BAR"),t.xp6(6),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourceDischargeFlow),t.xp6(2),t.Q6J("ngIf","AODD"!==e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType),t.xp6(3),t.Q6J("ngStyle",t.VKq(46,pt,"Running"===e.projectDetails.Status||"Starting"===e.projectDetails.Status?"gray":"red")),t.xp6(1),t.hij(" Last Data Timestamp : ",t.Dn7(29,36,e.dash.DateTime,"dd/MM/yyyy, HH:mm:ss","UTC")," "),t.xp6(9),t.Oqu(e.Time),t.xp6(7),t.hij("",t.xi3(45,40,e.dash.ProjectTotalizer||"0","1.1-1")," L"),t.xp6(5),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType),t.xp6(4),t.Q6J("ngIf","Running"===e.projectDetails.Status),t.xp6(1),t.Q6J("ngIf","Running"!==e.projectDetails.Status),t.xp6(2),t.Oqu(e.calTime||0),t.xp6(7),t.hij("",t.xi3(67,43,e.dash.TestTotalizer||"0","1.1-1")," L"),t.xp6(5),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType)}}function gt(a,r){if(1&a&&(t.TgZ(0,"option",91),t._uU(1),t.qZA()),2&a){const e=r.$implicit,i=t.oxw(2);t.Q6J("value",e)("disabled",i.isDisabledColSelect(e)),t.xp6(1),t.hij("",i.showColumns[e]," ")}}function _t(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",92),t._uU(1),t.TgZ(2,"span",93),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.removeTag(s))}),t._UZ(3,"i",94),t.qZA()()}if(2&a){const e=r.$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.showColumns[e]," ")}}function mt(a,r){if(1&a&&(t.TgZ(0,"div",25),t._UZ(1,"app-time-series",95),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("_size",e.size)}}function Pt(a,r){if(1&a&&(t.TgZ(0,"th",106),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e)}}function ft(a,r){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&a){const e=r.$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[e])}}function Tt(a,r){if(1&a&&(t.TgZ(0,"tr"),t.YNc(1,ft,2,1,"td",105),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.displayedColumns)}}function xt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",96)(1,"app-card",97)(2,"div",25)(3,"div",98)(4,"div",99),t._uU(5,"Statistical Data"),t.qZA()(),t.TgZ(6,"div",100)(7,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.exportToCSV())}),t._UZ(8,"i",10),t._uU(9," Export "),t.qZA()()(),t.TgZ(10,"div",11)(11,"table",101)(12,"thead")(13,"tr",102),t.YNc(14,Pt,2,1,"th",103),t.qZA()(),t.TgZ(15,"tbody",104),t.YNc(16,Tt,2,1,"tr",105),t.qZA()()()()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("options",!0),t.xp6(13),t.Q6J("ngForOf",e.displayedColumns),t.xp6(2),t.Q6J("ngForOf",e.tableData)}}function Dt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,N,3,2,"div",4),t.qZA(),t.TgZ(3,"div")(4,"app-card",5),t._UZ(5,"fusioncharts",6),t.qZA()(),t.TgZ(6,"div")(7,"app-card",7)(8,"div",8)(9,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.exportToCSV1())}),t._UZ(10,"i",10),t._uU(11," Export "),t.qZA()(),t.TgZ(12,"div",11),t.YNc(13,Y,21,1,"table",12),t.YNc(14,K,17,1,"table",12),t.TgZ(15,"div",13)(16,"span"),t._uU(17),t.qZA(),t.TgZ(18,"ngb-pagination",14),t.NdJ("pageChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.handlePageChange(o))})("pageChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.page=o)}),t.qZA()()()()(),t.TgZ(19,"div",15)(20,"ul",16)(21,"li",17)(22,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openMaintenanceModal())}),t._uU(23,"Maintenance Log "),t._UZ(24,"i",19),t.qZA()(),t.TgZ(25,"li",17)(26,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openModal("User Notes"))}),t._uU(27,"User Notes "),t._UZ(28,"i",20),t.qZA()(),t.TgZ(29,"li",17),t.YNc(30,z,3,0,"a",21),t.YNc(31,Q,3,0,"a",22),t.qZA()()(),t.TgZ(32,"div",23)(33,"app-card",24)(34,"div",25),t.YNc(35,ut,75,48,"div",26),t.qZA()()(),t.TgZ(36,"div",27)(37,"app-card",28)(38,"div",29)(39,"div",30)(40,"div",31)(41,"select",32),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.toppings=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onColSelectChange())}),t.TgZ(42,"option",33),t._uU(43,"Select Column names"),t.qZA(),t.YNc(44,gt,2,3,"option",34),t.qZA()()(),t.TgZ(45,"div",35)(46,"div",36)(47,"span",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openDateTimeModal())}),t._UZ(48,"i",38),t._uU(49),t.qZA()(),t.TgZ(50,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSelectionChange())}),t._uU(51,"Apply"),t.qZA()()(),t.TgZ(52,"div",40)(53,"div",41)(54,"div",42),t.YNc(55,_t,4,1,"div",43),t.qZA()()(),t.YNc(56,mt,2,1,"div",44),t.qZA()(),t.YNc(57,xt,17,3,"div",45),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.tempData),t.xp6(2),t.Q6J("cardTitle","AODD"!==e.projectDetails.ProjectType?"Test Run vs Discharge Pressure , Motor Hz":"Test Run vs Discharge Pressure, In Air Valve output")("options",!1),t.xp6(1),t.Q6J("width","100%")("height","300")("dataSource",e.dataSourceChart),t.xp6(2),t.Q6J("hidHeader",!0)("options",!1),t.xp6(6),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(3),t.AsE("Page ",(e.page-1)*e.pageSize," - ",e.page*e.pageSize>e.projectTestRunsList.length?e.projectTestRunsList.length:e.page*e.pageSize," "),t.xp6(1),t.Q6J("pageSize",e.pageSize)("collectionSize",null==e.projectTestRunsList?null:e.projectTestRunsList.length)("page",e.page),t.xp6(12),t.Q6J("ngIf",!e.favSelect),t.xp6(1),t.Q6J("ngIf",e.favSelect),t.xp6(2),t.Q6J("options",!1),t.xp6(2),t.Q6J("ngIf",e.showChart),t.xp6(2),t.Q6J("options",!1),t.xp6(4),t.Q6J("ngModel",e.toppings),t.xp6(3),t.Q6J("ngForOf",e.b),t.xp6(5),t.hij(" ",e.formattedDateTimeRange," "),t.xp6(6),t.Q6J("ngForOf",e.selectedValues),t.xp6(1),t.Q6J("ngIf",e.showTimeChart),t.xp6(1),t.Q6J("ngIf",1==e.tableview)}}let vt=(()=>{class a{constructor(e,i,o,s,c,n,h,d){this.headerService=e,this.toastService=i,this.modalService=o,this.spinner=s,this.dashService=c,this.projectService=n,this.authService=h,this.route=d,this.showChart=!1,this.showTimeChart=!1,this.favSelect=!1,this.selectedRow=0,this.page=1,this.pageSize=10,this.guageRadius=40,this.tableView=!1,this.toppings="",this.selectedValues=[],this.dataSet=[],this.dataSet1=[],this.category=[],this.height="120",this.width="145",this.type="angulargauge",this.dataFormat="json",this.Time="",this.click=0,this.testsource=[],this.chartSource=[],this.col=["act_testruntime","DischargePressureSP","Set_MotorRPM","TestNo","InAirPressSP"],this.col1=["endurance","act_testruntime","DischargePressureSP","InAirPressSP","TestNo"],this.dataSet2=[],this.Set_MotorRPM=[],this.InAirPressSP=[],this.testRunTime=[],this.dischPressure=[],this.chartTestxAxis=[],this.tempData=[{background:"bg-secondary",title:"Name",icon:"icon-edit",property:"ProjectName"},{background:"bg-secondary",title:"Number",icon:"icon-tag",property:"ProjectNo"},{background:"bg-secondary",title:"Owner",icon:"icon-user",property:"ProjectOwner"},{background:"bg-secondary",title:"Type",icon:"icon-grid",property:"ProjectType"},{background:"bg-secondary",title:"Test Runs",icon:"icon-aperture",property:"TestNo"},{background:"bg-secondary",title:"Configuration",icon:"icon-sliders",property:"ProjectConfig"}],this.dash={DischargePressureSP:0,MotorKW:0,MotorKWH:0,StrokeCountRate:0,StrokeCount:0,Time:0,MotorAMP:0,ProjectTotalizer:0,MotorKwhProject:0,Act_TestRunTime:0,TestTotalizer:0,MotorKwhTest:0,PumpRPM:0,AoddInAirPressPV:0,DischargePressurePV:0,DischargeFlow:0,caltime:"",DateTime:"",Set_MotorRPM:0,DischargePTScaleMin:0,DischargePTScaleMax:0,FlowScaleMin:0,FlowScaleMax:0,InAirPressureSP:0,PumpRPMMin:0,PumpRPMMax:0,DischargePThhSP:0,DischargePThSP:0,DischargePThhEn:!1,inAirPTScaleMin:0,inAirPTScaleMax:0,inAirFTScaleMin:0,inAirFTScaleMax:0,aoddProjStrokeCount:0,AoddInAirSCFMPV:0},this.chartData={DischargePressureSP:0,MotorKW:0,MotorKWH:0,StrokeCountRate:0,StrokeCount:0,Time:0,ProjectTotalizer:0,MotorKwhProject:0,Act_TestRunTime:0,TestTotalizer:0,MotorKwhTest:0,PumpRPM:0,PumpRPMMin:0,PumpRPMMax:0,DischargePressurePV:0,DischargePTScaleMin:0,DischargePTScaleMax:0,DischargeFlow:0,FlowScaleMin:0,FlowScaleMax:0,caltime:"",DateTime:"",MotorAMP:0,Set_MotorRPM:0,InAirPressSP:0,AoddInAirPressPV:0,DischargePThhEn:!1,DischargePThSP:0,DischargePThhSP:0,inAirPTScaleMin:0,inAirPTScaleMax:0,inAirFTScaleMin:0,inAirFTScaleMax:0,aoddProjStrokeCount:0,AoddInAirSCFMPV:0,a:0},this.showColumns=C[0],this.AoodItem=["SelectAll","StrokeCount","FcvSP","FlowGrav","WeightScaleRead","DischargeFlow","StrokeCountRate","DischargePressureSP","InAirPressSP","FcvPos","DischargePressurePV","AoddInAirPressPV","SuctionPressurePV"],this.EoddItem=["SelectAll","MotorKWH","FcvSP","Act_MotorRPM","MotorAMP","MotorKW","FlowGrav","WeightScaleRead","DischargeFlow","Set_MotorRPM","DischargePressureSP","FcvPos","DischargePressurePV","SuctionPressurePV","PumpRPM"],this.ProjectId=this.route.snapshot.params.id,this.testno=this.route.snapshot.params.no,this.click=this.testno,this.headerService.setHeaderName("Project Analysis");const _=this.authService.getFullNameFromToken();this.uid=_.uid,this.spinner.show()}ngOnInit(){this.size={height:300,width:"100%"},this.getProjectAnalysis()}handlePageChange(e){this.sliceProjects(e)}handleRowClick(e,i){this.selectedRow=i,this.click=e,this.getTimeSeriesDetails(),this.dataSet1=[],this.getFavorite()}getProjectAnalysis(){this.projectService.getProjectAnalysis(this.ProjectId,this.testno).subscribe(e=>{this.projectDetails=e[0],"EODD"==this.projectDetails.ProjectType?this.b=this.EoddItem:"AODD"==this.projectDetails.ProjectType&&(this.b=this.AoodItem),this.getTimeSeriesDetails(),this.getProjectRunTimeData(),this.getTableData()})}getProjectRunTimeData(){this.projectService.getProjectRunTime(this.ProjectId).subscribe(e=>{this.Time=e.Time})}getTimeSeriesDetails(){const e=this.click==this.testno?this.testno:this.click;this.getFavorite(),this.projectService.getTimeSeriesById(this.ProjectId,e).subscribe(i=>{console.log(i,"detai;ls"),this.dash=i[1],this.chartData=i[1],this.calTime=i[0].caltime;const o=new Date(this.chartData.DateTime),s=new Date(this.chartData.DateTime);o.setMinutes(o.getMinutes()+1),o.setHours(o.getHours()-5),s.setHours(s.getHours()-5),o.setMinutes(o.getMinutes()-30),s.setMinutes(s.getMinutes()-30),s.setHours(s.getHours()-24),this.jsStartDate=this.formatDate(s),this.jsEndDate=this.formatDate(o),this.fromDate=s,this.toDate=o,this.formatTimeModalDate(),this.pumpRPM(),this.pumpRPMAirPressure(),this.dischargePressure(),this.dischargeFlow(),this.selectedValues.length&&this.onSelectionChange()})}getFavorite(){const e={uid:this.uid,projectid:this.ProjectId,testno:this.click};this.favSelect=!1,this.headerService.SelectFav(e).subscribe(i=>{this.fid=i[0]?.fid,this.favSelect=i[0]?.status})}getTableData(){this.projectService.getTimeSeriesById(this.ProjectId,0).subscribe(e=>{this.projectTestRunsList=e,this.sliceProjects(this.page),this.testsource=e,this.testsource2=e,this.getChartData()})}getStatisticalTableData(){const e=(0,u.p6)(this.jsEndDate,"YYYY-MM-dd HH:mm","en_US"),i=(0,u.p6)(this.jsStartDate,"YYYY-MM-dd HH:mm","en_US");this.projectService.getTableData(this.ProjectId,this.click==this.testno?this.testno:this.click,i,e).subscribe(s=>{this.tableData=s,0==s.length&&(this.tableView=!1),s&&s.length&&(this.displayedColumns=Object.keys(s[0]))})}exportToCSV(){const e=this.tableData.map(n=>Object.values(n)),i=Object.keys(this.tableData[0]);e.unshift(i);const o=p.P6.aoa_to_sheet(e),s=p.P6.decode_range(o["!ref"]);for(let n=s.s.r;n<=s.e.r;++n)for(let h=s.s.c;h<=s.e.c;++h){const d=p.P6.encode_cell({r:n,c:h});o[d]&&(o[d].s||(o[d].s={}),o[d].s.alignment={horizontal:"center",vertical:"center"})}const c=p.P6.book_new();p.P6.book_append_sheet(c,o,"Sheet1"),p.NC(c,"Statistical.xlsx")}exportToCSV1(){var e=[],i=[];this.projectTestRunsList.map(n=>{"AODD"==this.projectDetails.ProjectType?e.push([n.TestNo,n.StartDateTime,n.EndDateTime,n.endurance,n.DischargePressureSP,n.InAirPressSP]):"EODD"==this.projectDetails.ProjectType&&e.push([n.TestNo,n.StartDateTime,n.EndDateTime,n.PumpRPM,n.act_testruntime,n.DischargePressureSP,n.Set_MotorRPM,n.MotorKW])}),"AODD"==this.projectDetails.ProjectType?i=["Test Run","Test Start Time","Test End Time","Test Run Time (Min)","Discharge Pressure (SP)","In Air Valve output"]:"EODD"==this.projectDetails.ProjectType&&(i=["Test Run","Test Start Time","Test End Time","Main Motor RPM","Test Run Time (Min)","Discharge Pressure (SP)","Motor HZ","Motor Power"]),e.unshift(i);const o=p.P6.aoa_to_sheet(e),s=p.P6.decode_range(o["!ref"]);for(let n=s.s.r;n<=s.e.r;++n)for(let h=s.s.c;h<=s.e.c;++h){const d=p.P6.encode_cell({r:n,c:h});o[d]&&(o[d].s||(o[d].s={}),o[d].s.alignment={horizontal:"center",vertical:"center"})}const c=p.P6.book_new();p.P6.book_append_sheet(c,o,"Sheet1"),p.NC(c,"ProjectTestRunData.xlsx")}pumpRPM(){this.cureentValueforGuage=this.chartData.PumpRPM.toFixed(2);const e=this.chartData.PumpRPMMax.toFixed(2),i={chart:{lowerLimit:this.chartData.PumpRPMMin.toString(),upperLimit:e.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" RPM",numberSuffixFontSize:"40"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.chartData.PumpRPMMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:Number(e),code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage+"RPM",bgHoverColor:"#cccccc",color:this.getNeedleColor_PumpRPM(this.cureentValueforGuage)}]}};this.dataSourcePumpRPM=i}getNeedleColor_PumpRPM(e){return e>=this.chartData.PumpRPMMin?"#219653":"#D3D3D3"}pumpRPMAirPressure(){this.cureentValueforGuage=this.chartData.AoddInAirPressPV.toFixed(2);const e={chart:{lowerLimit:this.chartData.inAirPTScaleMin.toString(),upperLimit:this.chartData.inAirPTScaleMax.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" BAR",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.chartData.inAirPTScaleMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:this.chartData.inAirPTScaleMax.toString(),code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage,bgHoverColor:"#cccccc",color:this.getNeedleColor_RPMAirPress(this.cureentValueforGuage)}]}};this.dataSourcePumpRPMAirPressure=e}getNeedleColor_RPMAirPress(e){return e>=this.chartData.inAirPTScaleMin?"#219653":"#D3D3D3"}dischargePressure(){this.cureentValueforGuage=(this.chartData.DischargePressurePV||0).toFixed(2);const e=this.chartData.DischargePTScaleMax.toFixed(2),i={chart:{lowerLimit:this.chartData.DischargePTScaleMin.toString(),upperLimit:e.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" BAR",numberSuffixFontColor:"#808080",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.chartData.DischargePTScaleMin.toString(),maxValue:this.chartData.DischargePThSP.toString(),code:"#219653"},{minValue:this.chartData.DischargePThSP.toString(),maxValue:this.chartData.DischargePThhSP.toString(),code:"#FFD12E"},{minValue:this.chartData.DischargePThhSP.toString(),maxValue:this.chartData.DischargePTScaleMax.toString(),code:"#FF9898"}]},dials:{dial:[{value:this.cureentValueforGuage+"%",bgHoverColor:"#cccccc",bgColor:this.colorChangeNeedle(this.cureentValueforGuage,this.chartData.DischargePTScaleMin,this.chartData.DischargePThSP,this.chartData.DischargePThhSP,e)}]}};this.dataSourceDischargePressure=i}colorChangeNeedle(e,i,o,s,c){return 1!=this.chartData.DischargePThhEn?e>c?"#D3D3D3":"#219653":e>=i&&e<=o?"#219653":e>=o&&e<=s?"#FFD12E":e>=s&&e<=c?"#FF9898":""}dischargeFlow(){this.cureentValueforGuage=(this.chartData.DischargeFlow||0).toFixed(2);const e=this.chartData.FlowScaleMax.toFixed(2),i={chart:{lowerLimit:this.chartData.FlowScaleMin.toString(),upperLimit:e.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numbersuffix:" L"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.chartData.FlowScaleMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:this.chartData.FlowScaleMax.toString(),code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage+"%",bgHoverColor:"#cccccc",color:this.getNeedleColor_DischargeFlow(this.cureentValueforGuage)}]}};this.dataSourceDischargeFlow=i}getNeedleColor_DischargeFlow(e){return e<=this.chartData.FlowScaleMax?"#219653":"#FF9898"}getNeedleColor_InAirFT(e){return e<=this.chartData.inAirFTScaleMax?"#219653":"#FF9898"}getChartData(){this.dataSet2=[],"Endurance"==this.projectDetails.ProjectConfig?(this.col=["act_testruntime","DischargePressureSP","Set_MotorRPM","TestNo","InAirPressSP","endurance"],this.col1=["act_testruntime","DischargePressureSP","InAirPressSP","TestNo","endurance"]):(this.col=["act_testruntime","DischargePressureSP","Set_MotorRPM","TestNo","InAirPressSP"],this.col1=["act_testruntime","DischargePressureSP","InAirPressSP","TestNo"]),this.col.forEach(e=>{this.dataSet2.push({seriesname:e,data:[]})}),this.testsource2.forEach(e=>{Object.keys(e).forEach(i=>{const o=this.dataSet2.find(s=>s.seriesname==i);o&&o.data.push({value:e[i]})}),this.testRunTime=this.dataSet2[0].data}),this.dataSet2[3].data.map(e=>{this.chartTestxAxis.push({label:String(e.value)})}),this.dischPressure=this.dataSet2[1].data,this.Set_MotorRPM=this.dataSet2[2].data,this.InAirPressSP=this.dataSet2[4].data,this.testRunTime="Endurance"==this.projectDetails.ProjectConfig?this.dataSet2[5].data:this.dataSet2[0].data,"EODD"==this.projectDetails.ProjectType?(this.text="Motor Hz",this.chartDataset=[{seriesname:"Test Run Time (Min)",showValues:"1",data:this.testRunTime,numbersuffix:"Time"},{seriesname:"Motor Freq SP (Hz)",renderAs:"line",parentYAxis:"S",showValues:"0",data:this.Set_MotorRPM,numbersuffix:"Hz"},{seriesname:"Discharge Pressure (BAR)",renderAs:"line",parentYAxis:"S",showValues:"0",data:this.dischPressure}]):(this.text="In Air Valve output",this.chartDataset=[{seriesname:"Test Run Time (Min)",showValues:"1",numbersuffix:" Time",data:this.testRunTime},{seriesname:"In Air Valve output",renderAs:"line",parentYAxis:"S",showValues:"0",data:this.InAirPressSP},{seriesname:"Discharge Pressure (BAR)",renderAs:"line",parentYAxis:"S",showValues:"0",data:this.dischPressure}]),this.barLineChart()}barLineChart(){this.dataSourceChart={chart:{xAxisname:"Test Run",pYAxisName:"Actual Test Time (In Minute)",sYAxisName:`${this.text} / Discharge Pressure`,plottooltext:"<b>$seriesname : </b>$dataValue",divlineColor:"#999999",divLineIsDashed:"1",divLineDashLen:"1",divLineGapLen:"1",toolTipColor:"white",toolTipBorderThickness:"0",toolTipBgColor:"#000000",toolTipBgAlpha:"80",toolTipBorderRadius:"2",toolTipPadding:"5",pnumbersuffix:" (BAR)",sYAxisMaxValue:"auto",showLabels:1,marginTop:20,theme:"fusion",exportEnabled:"1",formatNumberScale:"1",numberScaleValue:"1",numberScaleUnit:" (min)",rotateValues:"1"},categories:[{category:this.chartTestxAxis}],dataset:this.chartDataset},this.spinner.hide(),this.showChart=!0}isDisabledColSelect(e){return this.selectedValues.includes(e)}onSelectionChange1(e){this.selectedValues=e.value,this.dataSet.push(this.selectedValues)}onColSelectChange(){this.selectedValues.includes(this.toppings)||this.selectedValues.push(this.toppings),"SelectAll"==this.toppings&&(this.selectedValues=this.b),console.log(this.toppings,"my Selection")}removeTag(e){this.selectedValues=this.selectedValues.filter(i=>i!==e),"SelectAll"==e&&(this.selectedValues=[])}onSelectionChange(){this.dataSet1=[],this.category=[];const e=this.click==this.testno?this.testno:this.click;this.showTimeChart=!1,0==this.selectedValues.length?this.toastService.show({template:"Please Select the Parameteres!!",classname:"bg-warning",delay:3e3}):this.projectService.getTimeSeriesByIdForRunPro(this.ProjectId,e,this.jsStartDate,this.jsEndDate).subscribe(i=>{this.tableview=i.length>0,this.chartSource=i,i&&i.length?(this.selectedValues.forEach(o=>{this.dataSet1.push({seriesname:this.showColumns[o],noname:o,data:[]})}),this.time={label:"DateTime",data:[]},this.chartSource.forEach(o=>{Object.keys(o).forEach(s=>{const c=this.dataSet1.find(n=>n.noname===s);c&&c.data.push({value:o[s]}),"DateTime"==s&&this.time.data.push(o.DateTime)})}),this.selectedDataChart(),this.getStatisticalTableData()):this.toastService.show({template:"No data for selected dates!!",classname:"bg-warning",delay:3e3})})}selectedDataChart(){const e={chart:{theme:"fusion"},categories:[{category:this.testsource.slice(1).map(o=>({label:o.label}))}],dataset:this.dataSet1};this.spinner.hide();const i=[];e.dataset.forEach(o=>{const s=[];o.data.forEach((n,h)=>{const d=new Date(this.time.data[h]);d.setHours(d.getHours()-5),d.setMinutes(d.getMinutes()-30),s.push({x:d,y:n.value})}),i.push({name:o.seriesname,dataPoints:s})}),this.dashService.timeSeriesData.next(i),this.showTimeChart=!0}openDateTimeModal(){const o={startDate:this.fromDate,endDate:this.toDate},s=this.modalService.open(j.Z);s.componentInstance.inputData=o,s.result.then(c=>{const h=new Intl.DateTimeFormat("en-GB",{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),d=new Date(c.dateData.startDate.year,c.dateData.startDate.month-1,c.dateData.startDate.day,c.dateData.startTime.hour,c.dateData.startTime.minute,0),_=h.format(d),D=new Date(c.dateData.endDate.year,c.dateData.endDate.month-1,c.dateData.endDate.day,c.dateData.endTime.hour,c.dateData.endTime.minute,0),At=h.format(D);this.formattedDateTimeRange=_+" - "+At,this.jsStartDate=d,this.jsEndDate=D,this.jsStartDate=(0,u.p6)(this.jsStartDate,"YYYY-MM-dd HH:mm:ss","en_US"),this.jsEndDate=(0,u.p6)(this.jsEndDate,"YYYY-MM-dd HH:mm:ss","en_US")},c=>{console.log(`Modal dismissed with: ${c}`)})}openModal(e){const i={title:e,projectId:this.ProjectId,testId:this.click,mode:"add"},o=this.modalService.open(y._,{size:"lg"});o.componentInstance.inputData=i,o.result.then(s=>{this.getFavorite(),1==s.isSearch&&console.log(s)},s=>{console.log(`Modal dismissed with: ${JSON.stringify(s)}`)})}openMaintenanceModal(){const e={projectId:this.ProjectId,testId:this.click,mode:"add"},i=this.modalService.open(b.l,{size:"lg"});i.componentInstance.inputData=e,i.result.then(o=>{1==o.isSearch&&console.log(o)},o=>{console.log(`Modal dismissed with: ${JSON.stringify(o)}`)})}deletFav(){confirm("Are you sure you want to remove from favorite?")&&this.projectService.deleteFav(this.fid).subscribe({next:()=>{this.toastService.show({template:"Removed from Favorite!!",classname:"bg-success",delay:3e3}),this.favSelect=!1},error:i=>{console.warn(i),this.toastService.show({template:"Failed to remove from favorite!!",classname:"bg-danger",delay:3e3})}})}formatTimeModalDate(){const i=new Intl.DateTimeFormat("en-GB",{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=i.format(this.toDate),n=i.format(this.fromDate);this.formattedDateTimeRange=n+" - "+s}getCurrentDateTime(){return this.formatDate(new Date)}formatDate(e){return`${e.getFullYear()}-${this.padZero(e.getMonth()+1)}-${this.padZero(e.getDate())}T${this.padZero(e.getHours())}:${this.padZero(Math.abs(e.getMinutes()))}`}padZero(e){return e<10?`0${e}`:`${e}`}sliceProjects(e){this.selectedProjectTestRunsList=this.projectTestRunsList.slice((e-1)*this.pageSize,e*this.pageSize)}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(Z.r),t.Y36(w.k),t.Y36(T.FF),t.Y36(x.t2),t.Y36(F.s),t.Y36(R.Y),t.Y36(I.u),t.Y36(U.gz))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-project-analysis"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[["type","ball-scale-multiple"],["class","project-analysis",4,"ngIf"],[1,"project-analysis"],[1,"row","sec-first","mt-3"],["class","top-card col-12 col-md-2",4,"ngFor","ngForOf"],[3,"cardTitle","options"],["type","mscombidy2d",3,"width","height","dataSource"],[3,"hidHeader","options"],[1,"col-md-12","d-flex","justify-content-end","px-3","mb-1"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-file-csv","fw-bolder"],[1,"table-responsive"],["class","table table-styling",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center","gap-3"],[1,"m-0",3,"pageSize","collectionSize","page","pageChange"],[1,"dv-favourite","mt-3"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["role","button",1,"btn","btn-info",3,"click"],[1,"fas","fa-history"],[1,"far","fa-file-alt"],["class","btn btn-info","role","button",3,"click",4,"ngIf"],["class","btn btn-warning","role","button",3,"click",4,"ngIf"],[1,"col-md-12","kpiCharts","mt-3"],["cardTitle","",3,"options"],[1,"row"],["class","overflow-hidden",4,"ngIf"],[1,"col-md-12","parameterTrendView","mt-3"],["cardTitle","Parameter Trend View",3,"options"],[1,"row","d-flex","align-items-start","justify-content-between"],[1,"col-md-5","col-sm-12"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","","disabled","","selected",""],["style","font-weight: bold;",3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-12","d-flex","align-items-center","justify-content-end"],[1,"d-flex","justify-content-end","dateRangePicker"],[1,"custom-datetime-range-span",3,"click"],[1,"fas","fa-calendar"],["type","button",1,"btn","btn-primary","p-1","px-3","text-center","btn-apply",2,"font-size","13px",3,"click"],[1,"col-12","col-sm-12","d-flex","align-items-start"],[1,"col-md-12"],[1,"tag-input"],["class","tag",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","mt-3 col-md-12 parameterTrendView",4,"ngIf"],[1,"top-card","col-12","col-md-2"],["blockClass","project-analysis-top-card",3,"hidHeader","cardClass",4,"ngIf"],["blockClass","project-analysis-top-card",3,"hidHeader","cardClass"],[1,"text-white","d-flex","gap-2","align-items-center","first-label"],[1,"text-white","sec-label"],[4,"ngIf"],[1,"table","table-styling"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"fas","fa-star"],["role","button",1,"btn","btn-warning",3,"click"],[1,"overflow-hidden"],[1,"row","align-items-end","pt-0"],[1,"col-md-2","card-rt-br","kpi-chart-card-mh"],["class","liveTest-heading heading-style mb-1 text-center",4,"ngIf"],["class","position-relative d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[1,"liveTest-heading","heading-style","mb-1","text-center"],[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[3,"width","height","type","dataFormat","dataSource"],[1,"dv-p-main"],[1,"text-center","gauge-chart-bt-title"],[2,"font-weight","600","text-align","center"],[1,"col-md-4","projectDetails"],[1,"liveTest-heading","date-time-title","heading-style","mb-1",3,"ngStyle"],[1,"row","m-rl-5"],[1,"col-md-4"],[1,"card","mycard"],[1,"d-flex","align-items-start","pe-4"],[1,"text-nowrap","text-white"],[1,"p-1","fw-bold","text-white"],[1,"text-nowrap"],["class","text-nowrap",4,"ngIf"],["class","p-1 fw-bold text-white",4,"ngIf"],[1,"text-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-3"],[2,"height","40px","margin-bottom","15px"],["src","../../../assets/images/motor.ico","height","40px","width","30px",1,"apply-filter"],[1,"d-flex","align-items-center","justify-content-center","fw-bold"],[2,"text-align","center"],[1,"text-nowrap","mb-1"],[2,"color","gray"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-2"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-1","testtt"],[1,"d-flex","align-items-center","justify-content-center","fw-bold","mt-1"],[2,"color","gray","margin-bottom","-10px"],[2,"font-weight","bold",3,"value","disabled"],[1,"tag"],[1,"remove",3,"click"],[1,"fas","fa-times"],[3,"_size"],[1,"mt-3","col-md-12","parameterTrendView"],["cardTitle","Statistical Data",3,"options"],[1,"col-md-6"],[1,"title","fw-bold"],[1,"col-md-6","d-flex","justify-content-end","dateRangePicker","px-3","mb-1"],[1,"table","table-styling","text-center"],[2,"background-color","lightgray"],["scope","col",4,"ngFor","ngForOf"],[2,"font-size","13px"],[4,"ngFor","ngForOf"],["scope","col"]],template:function(i,o){1&i&&(t._UZ(0,"ngx-spinner",0),t.YNc(1,Dt,58,26,"div",1)),2&i&&(t.xp6(1),t.Q6J("ngIf",o.showChart))},dependencies:[u.ez,u.mk,u.sg,u.O5,u.PC,u.JJ,u.uU,M.m,g.YN,g.Kr,g.EJ,g.JJ,g.On,E.A,T.N9,x.Ro,f.Qf,f.PZ,S.Z,v.lN,A.LD],styles:[".project-analysis .top-card{padding:0 5px!important}  .project-analysis .test-card{padding:0 10px;font-size:11px;font-weight:500;display:grid;place-items:center;min-height:65px;margin:0}  .project-analysis .test-card+svg{width:25px;margin:0 5px}  .project-analysis .sec-first{padding:0 15px}  .project-analysis .sec-first .card-body{height:110px!important}  .project-analysis .testtt{border:2px solid rgba(0,0,0,.116);width:155px;border-radius:5px}  .project-analysis .mycard{background-color:#5072a7;border:.2px gray;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;margin-bottom:10px;font-size:11px;padding:5px;color:#fff}  .project-analysis .mycard h5{font-size:12px}  .project-analysis .mycard h6{color:#fff;font-size:10px}  .project-analysis .projectDetails .col-md-4{padding:3px}  .project-analysis .test-bench-sequence .test-card{border-radius:5px;color:#fff}  .project-analysis .test-bench-sequence .card .card-header{padding:10px}  .project-analysis .test-bench-sequence .card-body{height:unset!important}  .project-analysis .kpiCharts .card-header{display:none}  .project-analysis .parameterTrendView .card-header{display:none}  .project-analysis .card-body{height:unset!important}  .project-analysis .liveTest-heading{margin-bottom:20px!important;text-align:center}  .project-analysis .liveTest-heading.date-time-title{margin-bottom:30px!important}  .project-analysis .card-rt-br{border-right:1px solid rgba(51,51,51,.2)}  .project-analysis .kpi-chart-card-mh{min-height:197px}  .project-analysis .gauge-chart-bt-title{min-height:20px}  .project-analysis .pt40{padding-top:40px}  .project-analysis .mt20{margin-top:20px}  .project-analysis .pb20{padding-bottom:20px}  .project-analysis .m-rl-5{margin:0 5px}  .project-analysis .custom-datetime-range-span{padding:2px 8px;border:solid 1px rgb(206,212,218);border-radius:20px}  .project-analysis .custom-datetime-range-span i{margin-right:15px}  .project-analysis .card .card-body{padding:10px 8px!important}  .project-analysis .btn-apply{padding:2px 8px!important;margin-left:5px}@media only screen and (min-width: 769px){  .project-analysis .top-card:first-child{padding-left:0!important}  .project-analysis .top-card:last-child{padding-right:0!important}  .project-analysis .cust-col-1{width:11%!important;margin:0;display:flex;padding:0}  .project-analysis .cust-col-1:first-child{margin-left:10px}  .project-analysis .test-card{width:130px}  .project-analysis .project-analysis-top-card{position:relative;padding:10px!important}  .project-analysis .project-analysis-top-card .first-label{padding:10px 0;position:absolute;top:0;font-size:15px}  .project-analysis .project-analysis-top-card .sec-label{position:absolute;bottom:0;font-size:15px;font-weight:700}  .project-analysis .arrow-down{display:none!important}  .project-analysis .arrow-right{display:grid;place-items:center;margin:0}  .project-analysis .breadcrumb .breadcrumb-item:last-child{padding-right:0}}@media only screen and (max-width: 768px){  .project-analysis .top-card{padding:5px!important}  .project-analysis .project-analysis-top-card{position:relative;padding:10px!important}  .project-analysis .project-analysis-top-card .first-label{padding:10px 0;position:absolute;top:0;font-size:12px}  .project-analysis .project-analysis-top-card .sec-label{position:absolute;bottom:0;font-size:16px}  .project-analysis .arrow-right{display:none!important}  .project-analysis .arrow-down{text-align:center;margin:15px 0}  .project-analysis .breadcrumb-item{padding:0 10px 4px;width:100%}  .project-analysis .breadcrumb-item a{float:right}  .project-analysis .breadcrumb-item{padding-right:0}}  .project-analysis ul.breadcrumb{padding-right:0}  .project-analysis .breadcrumb-item+.breadcrumb-item:before{content:none!important}  .project-analysis .breadcrumb-item{padding:0 10px}  .project-analysis select.form-control{background-color:#e4e4e4!important;line-height:15px}  .project-analysis select.form-control option:disabled{color:#878787}  .project-analysis .tag-input{display:flex;flex-wrap:wrap;align-items:center;margin:0}  .project-analysis .tag{background-color:#6c757d;color:#fff;padding:6px 8px;margin:0 4px;display:flex;align-items:center;border-radius:20px;font-size:10px}  .project-analysis .remove{cursor:pointer;margin-left:4px;font-weight:700}  .selectedRowColor{background-color:#d3d3d3}  option:disabled{background-color:#eef075}"]})}return a})()},8837:m=>{m.exports=JSON.parse('[{"SelectAll":"Select All","MotorKWH":"Motor Energy","FlowGrav":"Gravimetric Flow","DischargePressurePV":"Discharge Pressure","DischargePressureSP":"Discharge Pressure Setpoint","StrokeCount":"Stroke Count","FcvSP":"Discharge Control Valve","StrokeCountRate":"Stroke Count Rate","Act_MotorRPM":"Actual Motor Speed","InAirPressSP":"In Air Valve Output","MotorAMP":"Motor Current","MotorKW":"Motor Power","WeightScaleRead":"Gravimetric Weight","AoddInAirPressPV":"In Air Pressure ","DischargeFlow":"Discharge Flow","Set_MotorRPM":"Motor Speed Setpoint","FcvPos":"Discharge Control Valve Position","SuctionPressurePV":"Suction Pressure","PumpRPM":"Pump RPM"},0,0,{"MotorKWH":"Motor Energy (kwh)","FlowGrav":"Gravimetric Flow (kG/Min)","DischargePressurePV":"Discharge Pressure (BAR)","DischargePressureSP":"Discharge Pressure Setpoint (BAR)","StrokeCount":"Stroke Count","FcvSP":"Discharge Control Valve O/p (%)","StrokeCountRate":"Stroke Count Rate","Act_MotorRPM":"Actual Motor Speed","InAirPressSP":"In Air Valve Output","MotorAMP":"Motor Current (A)","MotorKW":"Motor Power (kw)","WeightScaleRead":"Gravimetric Weight (Kg)","AoddInAirPressPV":"In Air Pressure ","DischargeFlow":"Discharge Flow (LPM)","Set_MotorRPM":"Motor Speed Setpoint (Hz)","FcvPos":"Discharge Control Valve Position (%)","SuctionPressurePV":"Suction Pressure (BAR)","PumpRPM":"Pump RPM","ProjectId":"Project Id","TestNo":"Test No","DateTime":"Date Time"}]')}}]);