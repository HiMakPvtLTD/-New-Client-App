"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[963],{5963:(P,b,d)=>{d.r(b),d.d(b,{default:()=>H});var D=d(6814),M=d(7818),y=d(9299),p=d(6223),x=d(8193),f=d(5619),S=d(3185),_=d(8837),A=d(6655),v=d(6990),T=d.n(v),a=d(9468),I=d(5399),R=d(4143),C=d(8672),E=d(7635),F=d(8642),V=d(220),O=d(4270);const w=["startDatePicker"],j=["endDatePicker"];function L(c,u){if(1&c){const r=a.EpF();a.TgZ(0,"div",18),a._uU(1),a.TgZ(2,"span",19),a.NdJ("click",function(){const e=a.CHM(r).$implicit,n=a.oxw();return a.KtG(n.removeVariableTag(e))}),a._UZ(3,"i",20),a.qZA()()}if(2&c){const r=u.$implicit,t=a.oxw();a.xp6(1),a.hij(" ",t.getTagValue(r)," ")}}function k(c,u){if(1&c){const r=a.EpF();a.TgZ(0,"div",18),a._uU(1),a.TgZ(2,"span",19),a.NdJ("click",function(){const e=a.CHM(r).$implicit,n=a.oxw();return a.KtG(n.removenAlogVariableIdsTag(e))}),a._UZ(3,"i",20),a.qZA()()}if(2&c){const r=u.$implicit,t=a.oxw();a.xp6(1),a.hij(" ",t.getAnalogTagValue(r)," ")}}function Z(c,u){if(1&c){const r=a.EpF();a.TgZ(0,"div",18),a._uU(1),a.TgZ(2,"span",19),a.NdJ("click",function(){const e=a.CHM(r).$implicit,n=a.oxw();return a.KtG(n.removeAmbientVariableIdsTag(e))}),a._UZ(3,"i",20),a.qZA()()}if(2&c){const r=u.$implicit,t=a.oxw();a.xp6(1),a.hij(" ",t.getAmbientTagValue(r)," ")}}function K(c,u){if(1&c&&(a.TgZ(0,"option",27),a._uU(1),a.qZA()),2&c){const r=u.$implicit;a.Q6J("value",r.ChartId),a.xp6(1),a.hij("",r.ChartName," ")}}function W(c,u){if(1&c){const r=a.EpF();a.TgZ(0,"div",21)(1,"div",5)(2,"label"),a._uU(3,"Chart Type"),a.qZA()(),a.TgZ(4,"div",22)(5,"select",23),a.NdJ("ngModelChange",function(i){a.CHM(r);const e=a.oxw();return a.KtG(e.chartId=i)})("change",function(){a.CHM(r);const i=a.oxw();return a.KtG(i.changeChartType())}),a.YNc(6,K,2,2,"option",24),a.qZA()(),a.TgZ(7,"div",22)(8,"button",25),a.NdJ("click",function(){a.CHM(r);const i=a.oxw();return a.KtG(i.generateChart())}),a._UZ(9,"i",26),a._uU(10," Apply "),a.qZA()()()}if(2&c){const r=a.oxw();a.xp6(5),a.Q6J("ngModel",r.chartId),a.xp6(1),a.Q6J("ngForOf",r.chartList)}}const U=function(){return["admin"]},B=function(){return{width:"100%",height:"430px"}};let H=(()=>{class c{constructor(r,t,i,e,n){this.modalService=r,this.dataAnalyticsService=t,this.spinner=i,this.authService=e,this.route=n,this.toppings=new p.NI(""),this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.uid="",this.chartList=[],this.chartData={},this.width="600",this.height="400",this.dataFormat="json",this.showChart=!1,this.filterData={productId:"",testRunId:"",variableIds:[],IotPanelId:"",analogVariableIds:[],ambientVariableIds:[]},this.aodd=[],this.eodd=[],this.analogVariableList=[],this.ambientVariableList=[],this.items=[],this.tags=[],this.tagInputControl=new p.NI,this.projectChartDataStatus=new f.X(!1),this.analogChartDataStatus=new f.X(!1),this.ambientChartDataStatus=new f.X(!1);const s=this.authService.getFullNameFromToken();this.uid=s.uid}removeVariableTag(r){this.filterData.variableIds=this.filterData.variableIds.filter(t=>t!==r)}removenAlogVariableIdsTag(r){this.filterData.analogVariableIds=this.filterData.analogVariableIds.filter(t=>t!==r)}removeAmbientVariableIdsTag(r){this.filterData.ambientVariableIds=this.filterData.ambientVariableIds.filter(t=>t!==r)}ngOnInit(){this.chartList=[{ChartId:"line",ChartName:"Trend"},{ChartId:"column",ChartName:"Bar"},{ChartId:"area",ChartName:"Area"},{ChartId:"scatter",ChartName:"Scatter"}],this.chartId=this.chartList[0].ChartId,this.type=this.chartId,this.dataSource={};const t=new Date,i=new Date;i.setMonth(i.getMonth()-1),this.endDate=t,this.startDate=i,this.startDate={year:this.startDate.getFullYear(),month:this.startDate.getMonth()+1,day:this.startDate.getDate()},this.endDate={year:this.endDate.getFullYear(),month:this.endDate.getMonth()+1,day:this.endDate.getDate()};const n=new Intl.DateTimeFormat("en-GB",{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=new Date;this.jsEndDate=s;const o=n.format(s),l=new Date;this.jsStartDate=l,l.setDate(l.getDate()-1);const h=n.format(l);this.formattedDateTimeRange=h+" - "+o,this.projectChartDataStatus.subscribe(()=>{this.projectChartDataStatus.value&&this.analogChartDataStatus.value&&this.ambientChartDataStatus.value&&(this.changeChart(),this.changeChart())}),this.analogChartDataStatus.subscribe(()=>{this.projectChartDataStatus.value&&this.analogChartDataStatus.value&&this.ambientChartDataStatus.value&&(this.changeChart(),this.changeChart())}),this.ambientChartDataStatus.subscribe(()=>{this.projectChartDataStatus.value&&this.analogChartDataStatus.value&&this.ambientChartDataStatus.value&&(this.changeChart(),this.changeChart())})}getTagValue(r){let t;return t="EODD"==this.projectType?this.eodd.find(i=>i.id==r):this.aodd.find(i=>i.id==r),t?.name}getAnalogTagValue(r){return this.analogVariableList.find(t=>t.VariableId==r)?.VariableName}getAmbientTagValue(r){return this.ambientVariableList.find(t=>t.VariableId==r)?.VariableName}onDropDownClose(){}onItemSelect(r){}onSelectAll(r){}openModal(){const i={startDate:this.jsStartDate,endDate:this.jsEndDate,filterData:this.filterData,projectType:this.projectType},e=this.modalService.open(y.Z,{size:"lg"});e.componentInstance.inputData=i,e.result.then(n=>{1==n.isSearch&&(this.filterData=n.filterData,this.filterData.productId.length>1&&this.filterData.ambientVariableIds.length>0&&(this.filterData.ambientVariableIds.map(s=>{const o=s;this.filterData.variableIds.push(s),null!=o&&null!=o&&(this.tags.includes(o)||this.tags.push(o))}),this.filterData.ambientVariableIds=[]),this.ambientVariableData=n.ambientVariableData,this.filterData.analogVariableIds.forEach(s=>{const o=s;this.tags.includes(o)||this.tags.push(o)}),this.filterData.variableIds.forEach(s=>{const o=s;this.tags.includes(o)||this.tags.push(o)}),this.filterData.ambientVariableIds.forEach(s=>{const o=s;null!=o&&null!=o&&(this.tags.includes(o)||this.tags.push(o))}),this.aodd=n.aodd,this.eodd=n.eodd,this.projectType=n.projectType,this.analogVariableList=n.analogVariableList,this.ambientVariableList=n.ambientVariableList)},n=>{console.log(`Modal dismissed with: ${n}`)})}openDateTimeModal(){const i={startDate:this.jsStartDate,endDate:this.jsEndDate},e=this.modalService.open(x.Z);e.componentInstance.inputData=i,e.result.then(n=>{const o=new Intl.DateTimeFormat("en-GB",{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=new Date(n.dateData.startDate.year,n.dateData.startDate.month-1,n.dateData.startDate.day,n.dateData.startTime.hour,n.dateData.startTime.minute,0),h=o.format(l),g=new Date(n.dateData.endDate.year,n.dateData.endDate.month-1,n.dateData.endDate.day,n.dateData.endTime.hour,n.dateData.endTime.minute,0),m=o.format(g);this.formattedDateTimeRange=h+" - "+m,this.jsStartDate=(0,D.p6)(l,"YYYY-MM-dd HH:mm:ss","en_US"),this.jsEndDate=(0,D.p6)(g,"YYYY-MM-dd HH:mm:ss","en_US")},n=>{console.log(`Modal dismissed with: ${n}`)})}generateChart(){this.showChart=!1,this.spinner.show();const r=this.filterData,t=this.jsStartDate,i=this.jsEndDate;let e={};if(""==r.productId&&0==r.variableIds.length)e={start:t,end:i};else if(""==r.productId&&r.variableIds.length>0)e={start:t,end:i,data:r.variableIds};else if(""!=r.productId&&0==r.variableIds.length)e={start:t,end:i,id:r.productId,no:r.testRunId};else if(""!=r.productId&&r.variableIds.length>0){e={start:t,end:i,id:r.productId,no:parseInt(r.testRunId),data:r.variableIds};const n=r.variableIds.map(s=>`${s}`);e.data=n}if(r.productId&&r.variableIds.length>0?this.dataAnalyticsService.getProjectSectionChartData(e).subscribe({next:n=>{this.projectChartRawData=n,this.projectChartDataStatus.next(!0)},error:n=>{console.log(n)}}):this.projectChartDataStatus.next(!0),this.filterData.analogVariableIds.length){const n={start:t,end:i};if(r.analogVariableIds.length>0){const s=r.analogVariableIds.map(o=>`${o}`);n.data=s}this.dataAnalyticsService.getAnalogSectionChartData(n).subscribe({next:s=>{this.analogChartRawData=s,this.analogChartDataStatus.next(!0)},error:s=>{console.log(s)}})}else this.analogChartDataStatus.next(!0);if(r.ambientVariableIds.length>0&&""==r.productId){const n={start:t,end:i};if(r.ambientVariableIds.length>0){const s=r.ambientVariableIds.map(o=>`${o}`);n.data=s}this.dataAnalyticsService.getAmbientSectionChartData(n).subscribe({next:s=>{this.ambientChartRawData=s,this.ambientChartDataStatus.next(!0)},error:s=>{console.log(s)}})}else this.ambientChartDataStatus.next(!0);this.getAnnotations(this.filterData.testRunId,this.filterData.productId)}changeChartType(){}getAnnotations(r,t){this.dataAnalyticsService.selectAnnotation({projectid:t,testno:r,uid:this.uid}).subscribe(i=>{console.log(i),this.annotations=i,this.changeChart()})}changeChart(){const r={chart:{caption:"",yaxisname:"",subcaption:"",showhovereffect:"1",numbersuffix:"",drawcrossline:"",plottooltext:"",theme:"fusion"},xAxis:{outputTimeFormat:{hour:"%H:%M:%S",minute:"%H:%M:%S",second:"%H:%M:%S"}},categories:[{category:[]}],dataset:[],dataLabels:{enabled:!1}};if(Array.isArray(this.projectChartRawData)&&this.filterData.variableIds.length&&this.projectChartRawData.length>0&&(this.projectChartRawData.forEach(t=>{r.categories[0].category.push({label:t.DateTime})}),this.filterData.variableIds.forEach(t=>{const i=t,e=[];this.projectChartRawData.forEach(s=>{const o={projectid:s.ProjectId,testno:+s.TestNo,paraname:_[4][i],paratimestamp:this.formatDate(new Date(s.DateTime))},l=this.checkExistObject(o),h={x:new Date(s.DateTime),y:s[t],click:function(g){console.log(g);const m=document.querySelector(".open-annotation");m.dataset.seriesName=g.dataSeries.name,m.dataset.x=g.dataPoint.x,l?(m.dataset.anid=l.anid,m.dataset.remark=l.remark):(m.dataset.anid="",m.dataset.remark=""),m.click()}};l&&(h.indexLabel=l.remark,h.indexLabelMaxWidth="100",h.markerType="triangle",h.markerSize=20),e.push(h)});const n={name:_[4][i],type:this.chartId,showInLegend:!0,dataPoints:e,visible:1};console.log(n),r.dataset.push(n)})),this.analogChartRawData&&this.analogChartRawData.length){const i=[];Object.keys(this.analogChartRawData[0]).map(e=>{"DateTime"!=e&&i.push({name:e,type:this.chartId,showInLegend:!0,dataPoints:[],visible:1})}),this.analogChartRawData.map(e=>{Object.keys(e).map(n=>{const s=i.find(o=>o.name==n);s&&s.dataPoints.push({x:new Date(e.DateTime),y:e[n]})})}),i.map(e=>{r.dataset.push(e)})}this.filterData.ambientVariableIds.length&&this.ambientChartRawData.length>0&&this.filterData.ambientVariableIds.forEach(t=>{const i=t,e=[];this.ambientChartRawData.forEach(s=>{const o={x:new Date(s.DateTime),y:s[t]};e.push(o)}),r.dataset.push({name:_[5][i],type:this.chartId,showInLegend:!0,dataPoints:e,visible:1})}),this.type=this.chartId,this.dataSource=r,this.chartOptions={zoomEnabled:!0,animationEnabled:!0,theme:"light2",title:{text:""},axisX:{valueFormatString:"DD/MM/YYYY HH:mm:ss"},axisY:{title:"Value",suffix:""},toolTip:{shared:!0,content:function(t){let i="";i+=(0,D.p6)(t.entries[0].dataPoint.x,"dd/MM/YYYY HH:mm:ss","en_US")+"<br/><br/>";for(let e=0;e<t.entries.length;e++)i+="LabAirQualityPM2_5"==t.entries[e].dataSeries.name||"LabAirQualityPM10"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(1)+" (\xb5g/m3)<br/>":"VOC"==t.entries[e].dataSeries.name||"Humidity"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(1)+" (%)<br/>":"Pump RPM"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (RPM)<br/>":"Motor AMP"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (A)<br/>":"Discharge Press PV"==t.entries[e].dataSeries.name||"Discharge Press SP"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"Discharge Flow"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (LPH)<br/>":"Motor KW"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (KW)<br/>":"Stroke Rate"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (SCPM)<br/>":"Inlet Air Press. PV"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"Inlet Air Press. SP"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (%)<br/>":"PM2.5"==t.entries[e].dataSeries.name||"PM10"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(1)+" (\xb5g/m3)<br/>":"VOC"==t.entries[e].dataSeries.name||"Humidity"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(1)+" (%)<br/>":"Pump RPM"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (RPM)<br/>":"Motor Current"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (A)<br/>":"Discharge Press PV"==t.entries[e].dataSeries.name||"Discharge Press SP"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"Discharge Flow"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (LPM)<br/>":"Motor Power"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (KW)<br/>":"Stroke Rate"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (SCPM)<br/>":"Inlet Air Press PV"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"Air Valve Output"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (%)<br/>":"PumpRPM"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (RPM)<br/>":"Discharge Control Valve Cmd"==t.entries[e].dataSeries.name||"Discharge Control Valve Position"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (%)<br/>":"Suction Pressure"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"Gravimetric Flow"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (kG/Min)<br/>":"Gravimetric Weight"==t.entries[e].dataSeries.name||"WeightScaleRead"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (Kg)<br/>":"MotorAMP"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (A)<br/>":"Discharge Pressure"==t.entries[e].dataSeries.name||"Discharge Pressure Setpoint"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (BAR)<br/>":"DischargeFlow"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (LPM)<br/>":"MotorKW"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (KW)<br/>":"MotorKWH"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (kWh)<br/>":"Test Stroke Count"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+"<br/>":"Stroke Count Rate"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (SCPM)<br/>":"In Air Pressure"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+"<br/>":"Air Valve Output"==t.entries[e].dataSeries.name?t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(2)+" (%)<br/>":t.entries[e].dataSeries.name+": "+t.entries[e].dataPoint.y.toFixed(1)+" (\xb0C)<br/>";return i}},legend:{cursor:"pointer",itemclick:function(t){t.dataSeries.visible=!(typeof t.dataSeries.visible>"u"||t.dataSeries.visible),t.chart.render()}},data:r.dataset},this.spinner.hide(),this.showChart=!0,console.log(r.dataset,"data")}handleAnnotationModal(r){const t=r.target,{seriesName:i,x:e,anid:n,remark:s}=t.dataset,o={projectid:this.filterData.productId,testno:this.filterData.testRunId,paraname:i,paratimestamp:this.formatDate(new Date(e)),createdbyuid:this.uid,createdbydate:this.formatDate(new Date),updatedbyid:this.uid,updatedbydate:this.formatDate(new Date),anid:n,remark:s},l=this.modalService.open(A.c,{size:"lg"});l.componentInstance.inputData=o,l.result.then(()=>{this.getAnnotations(this.filterData.testRunId,this.filterData.productId),this.changeChart(),this.changeChart()},()=>{this.getAnnotations(this.filterData.testRunId,this.filterData.productId),this.changeChart()})}getCurrentDateTime(){return this.formatDate(new Date)}formatDate(r){return`${r.getFullYear()}-${this.padZero(r.getMonth()+1)}-${this.padZero(r.getDate())}T${this.padZero(r.getHours())}:${this.padZero(Math.abs(r.getMinutes()))}:${this.padZero(r.getSeconds())}.000Z`}padZero(r){return r<10?`0${r}`:`${r}`}checkExistObject(r){if(!this.annotations)return"";let t;return this.annotations.some(i=>{var{projectid:e,testno:n,paratimestamp:s,paraname:o}=i;const l={projectid:e,testno:n,paratimestamp:s,paraname:o};T().isEqual(r,l)&&(t=i,console.log(t))}),t}static#t=this.\u0275fac=function(t){return new(t||c)(a.Y36(I.FF),a.Y36(R._),a.Y36(C.t2),a.Y36(E.u),a.Y36(F.gz))};static#e=this.\u0275cmp=a.Xpm({type:c,selectors:[["app-data-analytics-time"]],viewQuery:function(t,i){if(1&t&&(a.Gf(w,5),a.Gf(j,5)),2&t){let e;a.iGM(e=a.CRH())&&(i.startDatePicker=e.first),a.iGM(e=a.CRH())&&(i.endDatePicker=e.first)}},standalone:!0,features:[a.jDz],decls:28,vars:11,consts:[["type","ball-scale-multiple"],[1,"row","btn-page"],[1,"col-sm-12"],[1,"custom-card",3,"customHeader"],[1,"form-group","row"],[1,"col-md-3"],[1,"col-md-9"],[1,"custom-datetime-range-span",3,"click"],[1,"fas","fa-calendar"],[1,"col-md-9","disp-flex"],["type","button","ngbAutofocus","",1,"btn","btn-outline-secondary","tag-btn",3,"click"],[1,"fas","fa-plus"],[1,"tag-input"],["class","tag",4,"ngFor","ngForOf"],["class","form-group row align-items-center",4,"appHasRoles"],["cardTitle","Basic",3,"hidden"],["id","chartContainer",3,"options","styles"],["data-ss","sda",1,"open-annotation","d-none",3,"click"],[1,"tag"],[1,"remove",3,"click"],[1,"fas","fa-times"],[1,"form-group","row","align-items-center"],[1,"col-md-2"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","button","ngbAutofocus","",1,"btn","btn-block","btn-primary","btn-apply","mb-4","custom-btn",3,"click"],[1,"fas","fa-check"],[3,"value"]],template:function(t,i){1&t&&(a._UZ(0,"ngx-spinner",0),a.TgZ(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"div",4)(5,"div",5)(6,"label"),a._uU(7,"Data Source & Analysis Tool"),a.qZA()(),a.TgZ(8,"div",6)(9,"span",7),a.NdJ("click",function(){return i.openDateTimeModal()}),a._UZ(10,"i",8),a._uU(11),a.qZA()()(),a.TgZ(12,"div",4)(13,"div",5)(14,"label"),a._uU(15,"Selected Tags"),a.qZA()(),a.TgZ(16,"div",9)(17,"button",10),a.NdJ("click",function(){return i.openModal()}),a._uU(18," Add Tags "),a._UZ(19,"i",11),a.qZA(),a.TgZ(20,"div",12),a.YNc(21,L,4,1,"div",13),a.YNc(22,k,4,1,"div",13),a.YNc(23,Z,4,1,"div",13),a.qZA()()(),a.YNc(24,W,11,2,"div",14),a.qZA(),a.TgZ(25,"app-card",15),a._UZ(26,"canvasjs-chart",16),a.TgZ(27,"button",17),a.NdJ("click",function(n){return i.handleAnnotationModal(n)}),a.qZA()()()()),2&t&&(a.xp6(3),a.Q6J("customHeader",!0),a.xp6(8),a.hij(" ",i.formattedDateTimeRange," "),a.xp6(10),a.Q6J("ngForOf",i.filterData.variableIds),a.xp6(1),a.Q6J("ngForOf",i.filterData.analogVariableIds),a.xp6(1),a.Q6J("ngForOf",i.filterData.ambientVariableIds),a.xp6(1),a.Q6J("appHasRoles",a.DdM(9,U)),a.xp6(1),a.Q6J("hidden",!i.showChart),a.xp6(1),a.Q6J("options",i.chartOptions)("styles",a.DdM(10,B)))},dependencies:[D.ez,D.sg,M.m,p.YN,p.Kr,p.EJ,p.JJ,p.On,V.A,O.c,C.Ro,S.n,S.x],styles:[".bi-calendar3{margin-bottom:0}  .btn-apply{padding:2px 8px!important;margin-left:5px}  .custom-card .card{background:linear-gradient(to bottom,rgba(0,190,219,.1490196078),rgba(12,255,0,.1490196078))!important}  .custom-card .card .card-header h5,   .custom-card .card .card-header .h5{font-weight:400;font-size:12px}  .custom-card .input-group.dp .form-control{background:transparent;margin-bottom:5px;padding:0 15px;font-size:14px;line-height:.5;height:25px}  .custom-card .input-group.dp .bi-calendar3.btn{padding-bottom:0!important;padding-top:0!important}  .custom-card select.form-control{background-color:#f5f5f5;line-height:15px}  .custom-card .card .card-header{padding:10px 25px}  .custom-card .card .card-body{padding:10px 25px}  .custom-card .card .card-header .card-header-right .btn.dropdown-toggle{display:none}  .custom-card .form-group label{font-weight:400}  .custom-card .form-control{font-size:14px;line-height:1}  .custom-btn.btn{border-radius:20px;margin:5px!important}  .tag-btn{border-radius:20px;margin-bottom:5px!important;font-size:10px;padding-left:5px;padding-right:5px;margin-right:0!important;margin-top:4px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-header-right[_ngcontent-%COMP%]   .btn.dropdown-toggle[_ngcontent-%COMP%]{display:none}.tag-input[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:0}.tag[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;padding:6px 8px;margin:0 4px;display:flex;align-items:center;border-radius:20px;font-size:10px}.remove[_ngcontent-%COMP%]{cursor:pointer;margin-left:4px;font-weight:700}.disp-flex[_ngcontent-%COMP%]{display:flex}.custom-datetime-range-span[_ngcontent-%COMP%]{padding:2px 8px;border:solid 1px rgb(206,212,218);border-radius:20px}.custom-datetime-range-span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:15px}"]})}return c})()},8837:P=>{P.exports=JSON.parse('[{"SelectAll":"Select All","MotorKWH":"Motor Energy","FlowGrav":"Gravimetric Flow","DischargePressurePV":"Discharge Pressure","DischargePressureSP":"Discharge Pressure Setpoint","StrokeCount":"Test Stroke Count","FcvSP":"Discharge Control Valve Cmd","StrokeCountRate":"Stroke Count Rate","Act_MotorRPM":"Actual Motor Speed","InAirPressSP":"Air Valve Output","MotorAMP":"Motor Current","MotorKW":"Motor Power","WeightScaleRead":"Gravimetric Weight","AoddInAirPressPV":"In Air Pressure","DischargeFlow":"Discharge Flow","Set_MotorRPM":"Motor Speed Setpoint","FcvPos":"Discharge Control Valve Position","SuctionPressurePV":"Suction Pressure","PumpRPM":"Pump RPM"},0,0,{"MotorKWH":"Motor Energy (kwh)","FlowGrav":"Gravimetric Flow (kG/Min)","DischargePressurePV":"Discharge Pressure (BAR)","DischargePressureSP":"Discharge Pressure Setpoint (BAR)","StrokeCount":"Test Stroke Count","FcvSP":"Discharge Control Valve Cmd (%)","StrokeCountRate":"Stroke Count Rate","Act_MotorRPM":"Actual Motor Speed","InAirPressSP":"Air Valve Output (%)","MotorAMP":"Motor Current (A)","MotorKW":"Motor Power (kw)","WeightScaleRead":"Gravimetric Weight (Kg)","AoddInAirPressPV":"In Air Pressure","DischargeFlow":"Discharge Flow (LPM)","Set_MotorRPM":"Motor Speed Setpoint (Hz)","FcvPos":"Discharge Control Valve Position (%)","SuctionPressurePV":"Suction Pressure (BAR)","PumpRPM":"Pump RPM","ProjectId":"Project Id","TestNo":"Test No","DateTime":"Date Time"},{"SelectAll":"Select All","MotorKWH":"Motor Energy","FlowGrav":"Gravimetric Flow","DischargePressurePV":"Discharge Pressure","DischargePressureSP":"Discharge Pressure Setpoint","StrokeCount":"Test Stroke Count","FcvSP":"Discharge Control Valve Cmd","StrokeCountRate":"Stroke Count Rate","Act_MotorRPM":"Actual Motor Speed","InAirPressSP":"Air Valve Output","MotorAMP":"Motor Current","MotorKW":"Motor Power","WeightScaleRead":"Gravimetric Weight","AoddInAirPressPV":"In Air Pressure","DischargeFlow":"Discharge Flow","Set_MotorRPM":"Motor Speed Setpoint","FcvPos":"Discharge Control Valve Position","SuctionPressurePV":"Suction Pressure","PumpRPM":"Pump RPM","LabAirQualityPM2_5":"PM2.5","LabAirQualityPM10":"PM10","LabAirQualityVOC":"VOC","LabHumidity":"Humidity","LabTemp":"Temperature"},{"LabAirQualityPM2_5":"PM2.5","LabAirQualityPM10":"PM10","LabAirQualityVOC":"VOC","LabHumidity":"Humidity","LabTemp":"Temperature"}]')}}]);