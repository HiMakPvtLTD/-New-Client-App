"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[474],{474:(E,d,o)=>{o.r(d),o.d(d,{default:()=>D});var r=o(6814),_=o(7818),h=o(1687),m=o(239),t=o(9468),g=o(9074),l=o(2098),v=o(4277),a=o(5399),c=o(6686),O=o(220);function T(n,u){1&n&&t._UZ(0,"i",8)}function f(n,u){if(1&n){const e=t.EpF();t.TgZ(0,"i",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,p=t.oxw();return t.KtG(p.stopBench(s.Group,s.ProjectId,s.TestRunCount,s.Status))}),t.qZA()}}function P(n,u){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",5),t.YNc(14,T,1,0,"i",6),t.YNc(15,f,1,0,"i",7),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA()()),2&n){const e=u.$implicit,i=u.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.TestBenchName),t.xp6(2),t.Oqu(e.PanelName),t.xp6(2),t.Oqu(e.ProjectType),t.xp6(2),t.Oqu(e.ProjectId),t.xp6(2),t.Oqu(e.ProjectName),t.xp6(2),t.Q6J("ngIf","Idle"==e.Status||"Stop"==e.Status),t.xp6(1),t.Q6J("ngIf","Running"==e.Status||"Starting"==e.Status),t.xp6(2),t.Oqu(e.ReasonOfStop),t.xp6(2),t.Oqu(t.Dn7(20,10,e.LastStopDate,"dd/MM/yyyy, HH:mm:ss","UTC"))}}let D=(()=>{class n{constructor(e,i,s,p,I){this.headerService=e,this.router=i,this.maintenanceToolService=s,this.modalService=p,this.idleTimerService=I,e.setHeaderName("Remote Operation")}ngOnInit(){this.intervalSubscription=(0,h.F)(5e3).subscribe(()=>{this.getOperationData()}),this.idleTimerService.setupIdle(),this.idleTimerService.resetIdleTimer()}getOperationData(){this.maintenanceToolService.getOperations().subscribe(e=>{e.map((i,s)=>{"Running"==i.Status&&(e[s].ReasonOfStop="-",e[s].LastStopDate="-")}),this.operationList=e})}stopBench(e,i,s,p){this.projectId=i,this.status=p,this.testno=s,this.group=e,this.toggleRemoteStop()}toggleRemoteStop(){if("Running"!==this.status)return;const e={group:this.group,projectId:this.projectId,testId:this.testno},i=this.modalService.open(m.A,{size:"lg"});i.componentInstance.inputData=e,i.result.then(s=>{},s=>{console.log(`Modal dismissed with: ${JSON.stringify(s)}`)})}ngOnDestroy(){this.intervalSubscription&&this.intervalSubscription.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.r),t.Y36(l.F0),t.Y36(v.W),t.Y36(a.FF),t.Y36(c.p))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-remote-operation"]],standalone:!0,features:[t.jDz],decls:35,vars:2,consts:[["cardTitle","Remote Operation",3,"options"],[1,"row","justify-content-end"],[1,"table-responsive"],[1,"table","table-styling"],[4,"ngFor","ngForOf"],[1,"td-i"],["aria-hidden","true","class","fa fa-stop-circle","style","color: rgba(206, 50, 50, 0.884);",4,"ngIf"],["aria-hidden","true","class","fa fa-play-circle","style","color: rgba(19, 133, 19, 0.884);",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-stop-circle",2,"color","rgba(206, 50, 50, 0.884)"],["aria-hidden","true",1,"fa","fa-play-circle",2,"color","rgba(19, 133, 19, 0.884)",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th")(7,"span"),t._uU(8,"Sr. No."),t.qZA()(),t.TgZ(9,"th")(10,"span"),t._uU(11,"Test Bench"),t.qZA()(),t.TgZ(12,"th")(13,"span"),t._uU(14,"IOT Panel"),t.qZA()(),t.TgZ(15,"th")(16,"span"),t._uU(17,"Project Type"),t.qZA()(),t.TgZ(18,"th")(19,"span"),t._uU(20,"Project ID"),t.qZA()(),t.TgZ(21,"th")(22,"span"),t._uU(23,"Project Name"),t.qZA()(),t.TgZ(24,"th")(25,"span"),t._uU(26,"Test Bench Status"),t.qZA()(),t.TgZ(27,"th")(28,"span"),t._uU(29,"Last Stop Reason"),t.qZA()(),t.TgZ(30,"th")(31,"span"),t._uU(32,"Last Stop Date"),t.qZA()()()(),t.TgZ(33,"tbody"),t.YNc(34,P,21,14,"tr",4),t.qZA()()()()()),2&i&&(t.Q6J("options",!1),t.xp6(34),t.Q6J("ngForOf",s.operationList))},dependencies:[r.ez,r.sg,r.O5,r.uU,_.m,O.A],styles:["i.fa[_ngcontent-%COMP%]{font-size:18px}"]})}return n})()},6686:(E,d,o)=>{o.d(d,{p:()=>g});var r=o(8171),_=o(9468),h=o(6497),m=o(2098),t=o(5399);let g=(()=>{class l{constructor(a,c,O,T){this.idle=a,this.keepalive=c,this.router=O,this.modalService=T}setupIdle(){this.idle.setIdle(1200),this.idle.setTimeout(30),this.idle.setInterrupts(r.WO),this.idle.onIdleEnd.subscribe(()=>{this.dismissModal("No Longer Idle"),console.log("No longer idle.")}),this.idle.onTimeout.subscribe(()=>{this.timedOut()}),this.idle.onIdleStart.subscribe(()=>{}),this.idle.onTimeoutWarning.subscribe(a=>{console.log("You will time out in "+a+" seconds!")}),this.keepalive.interval(15),this.keepalive.onPing.subscribe(()=>this.updateLastPing())}resetIdleTimer(){this.idle.watch()}dismissModal(a){this.modalService.dismissAll(a)}timedOut(){console.log("Timed out!"),localStorage.clear(),this.router.navigate(["/"])}StopIdle(){this.idle.stop()}updateLastPing(){console.log("Keepalive ping received.")}static#t=this.\u0275fac=function(c){return new(c||l)(_.LFG(r.hX),_.LFG(h.A),_.LFG(m.F0),_.LFG(t.FF))};static#e=this.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);